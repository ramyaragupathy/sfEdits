<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.13.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.13.1/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
        #range {
      position: absolute;
      bottom: 10px;
      /*width: 60%;*/
      margin-left: 20%;
      margin-right: 20%;
      }
      #rangeInput {
      width: 900px;
      
              }
    </style>
</head>
<body>

<div id='map'></div>
<div id="range">
      <input id="rangeInput" type="range" min="1366490575" max="1453297857" step="1000" value="1366490575" />
      </div>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoicmFteWFyYWd1cGF0aHkiLCJhIjoiOHRoa2JJTSJ9.6Y38XMOQL80LZyrUAjXgIg';
var map = new mapboxgl.Map({
    container: 'map', // container id
    style: 'mapbox://styles/ramyaragupathy/cijveshal00incakw2iv2pnpb' //stylesheet location
    // center: [77.6, 12.98], // starting position
    // zoom: 0 // starting zoom
});



// if the rangeInput.value is <=min then filter=nothing
document.getElementById('rangeInput').addEventListener('input', function(e) {
      var value = this.value;
      console.log(value);
     
        map.setFilter('sf-combined', ['<=', '_timestamp', parseInt(value)]);
     
      // console.log(map.getFilter('sf-combined'));
          });

</script>

</body>
</html>

